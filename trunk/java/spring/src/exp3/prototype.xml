<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"
    "http://www.springframework.org/dtd/spring-beans.dtd">

<!-- 
     O cabeçalho acima deve estar presente.
     Observe ainda que aquelas deverão ser as primeiras
     linhas do seu arquivo de configuração.
-->


<beans>

<!-- Para cada getBean("prototipo") será criada uma instância -->
<bean id="prototipo" 
      class="exp3.Prototype" singleton="false"
      init-method="iniciaInstancia" 
      destroy-method="finalizaInstancia" >
    
    <!-- Usa mensagem setValor(1234) -->
    <property name="valor">
        <value>1234</value>
    </property>
    
    <!-- Método set para propriedade 'proximo' é usada -->
    <!-- Esta propriedade é uma referência para outro objeto -->
    <property name="proximo">
        <ref bean="ultimo" />
    </property>
</bean>

<!-- singleton="true" é desnecessário (valor default) -->
<!-- Só existirá uma instância referenciada por 'ultimo' -->
<bean id="ultimo" class="exp3.Prototype" singleton="false">
    <property name="valor">
        <value>-1</value>
    </property>
    
    <!-- OBSERVE COMO FORNECER VALOR NULL -->
    <property name="proximo">
    	<null/>
    </property>
</bean>

</beans>